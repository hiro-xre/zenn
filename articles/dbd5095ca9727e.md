---
title: スタイルガイドを意識して Vue.js を書く
emoji: "⚠️"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["vue", "nuxt"]
published: false
---

# はじめに
Vue.js （以降 Vue と記します） を書きはじめて 2 年が経ちました。普段 Vue を書いていて、お世話になっているスタイルガイドを紹介します。どなたかの参考になれば幸いです。ご指摘やアドバイスもお待ちしています。

# 対象読者
* 普段 Vue を書いている方
* 日頃 Vue を書こうと思っている方
* Vue のスタイルガイドをはじめて知る方

# 結論
* Vue のスタイルガイドに沿ったコーディング
* 各 API が適切に使用できているか
  * 無駄に API を使用していないか
  
大きくこの 2 点を意識しています。以降で具体例を見ていきます。

# スタイルガイド
https://ja.vuejs.org/style-guide/

公式が提供している Vue の参考書みたいなものです。「こんな感じで書くといいよ」や「これはアンチパターンになるから避けようね」などの具体例が記載されています。基本はこのスタイルガイドに沿ってコーディングしていくのがよいです。


## コンポーネントファイルの命名
実はコンポーネントファイルの命名については、スタイルガイドにいくつか推奨事項があります。
* （必須）実装するコンポーネントの責務を踏まえ、複数単語かつパスカルケースのコンポーネント名となるようにする。
* （推奨）汎用的なベースとなるコンポーネントには特定のプレフィックス（`Base`、`App`、`V` など）ではじめる。
* （推奨）親コンポーネントと密結合になる子コンポーネントは、親コンポーネントの名前をプレフィックスに含める。
* （推奨）複数単語の並び順は責務の主題となる単語からはじめ、説明的な単語を続ける。

基本はこれらを満たす命名となるようにしています。

https://ja.vuejs.org/style-guide/rules-essential.html#use-multi-word-component-names

https://ja.vuejs.org/style-guide/rules-strongly-recommended.html#single-file-component-filename-casing

https://ja.vuejs.org/style-guide/rules-strongly-recommended.html#base-component-names

https://ja.vuejs.org/style-guide/rules-strongly-recommended.html#tightly-coupled-component-names

https://ja.vuejs.org/style-guide/rules-strongly-recommended.html#order-of-words-in-component-names

## コーディングの順序
単一ファイルよりもプロダクト全体で統一されているとよいことですが、コーディングの順序をある程度決めています。
具体的には以下の順序です。
* `provide` / `inject` や `store` 情報
* `props` / `emits`
* `state`
* `computed`
* 関数処理（Options API における `methods`オプションに相当する処理）
* `watch`
* ライフサイクルイベント

順序の理由は感覚的なものもありますが、データの流れが追いやすいと考えています。
1. どのようなグローバルな情報が必要で
2. 親からどのようなデータを受け取って
3. このファイルではどのようなデータを管理して
4. どのような参照情報を持って
5. どのような処理があって
6. 処理がどのようなタイミングで行われるか

このようなイメージを持ってコードを書いていますし、コードを読んでいます。
逆に言うと、およそこのような順序で書かれていないとコードが読みにくいとも感じています。
スタイルガイドにオプションの順序について記載がありますが、Options API は自然とコードが整理されていいですね。


